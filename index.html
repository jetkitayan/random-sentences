<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Random English Sentences</title>
<style>
body {
  font-family: sans-serif;
  text-align: center;
  margin-top: 80px;
}

#sentence {
  font-size: 36px;
  margin: 40px 20px;
  line-height: 1.5;
}

button {
  padding: 15px 30px;
  font-size: 22px;
  margin: 10px;
  border-radius: 10px;
}

#count {
  font-size: 24px;
  font-weight: bold;
}
</style>
</head>
<body>

<h1>Random English Sentences</h1>
<div id="sentence">Press "Show Random" to start</div>
<button id="showBtn">Show Random</button>
<button id="okBtn" disabled>OK</button>
<button id="resetBtn">Reset</button>
<p>Total Shown: <span id="count">0</span></p>

<script>
let allSentences = [
  "Keep your chin up.",
  "Practice makes perfect.",
  "Every cloud has a silver lining.",
  "Better late than never.",
  "Actions speak louder than words."
];

// localStorage„Åã„ÇâËã±Êñá„Åî„Å®„ÅÆ„Ç´„Ç¶„É≥„Éà„ÇíË™≠„ÅøËæº„Åø
let shownCounts = JSON.parse(localStorage.getItem("shownCounts")) || {}; 
let totalShown = Object.values(shownCounts).reduce((a,b)=>a+b,0);
document.getElementById("count").innerText = totalShown;

function showRandom() {
  // „É©„É≥„ÉÄ„É†„Å´Ëã±Êñá„Çí1„Å§ÈÅ∏„Å∂
  const sentence = allSentences[Math.floor(Math.random() * allSentences.length)];

  // üëá Ëã±Êñá„Åî„Å®„Å´Áã¨Á´ã„Ç´„Ç¶„É≥„Éà
  if (!shownCounts[sentence]) shownCounts[sentence] = 0;
  shownCounts[sentence]++;

  // ‰øùÂ≠ò
  localStorage.setItem("shownCounts", JSON.stringify(shownCounts));

  // Á∑èË°®Á§∫ÂõûÊï∞„ÇÇÊõ¥Êñ∞ÔºàÂêàË®àÔºâ
  totalShown = Object.values(shownCounts).reduce((a,b)=>a+b,0);
  document.getElementById("count").innerText = totalShown;

  // üëá Ë°®Á§∫Ôºà„Åì„ÅÆËã±Êñá„Åå‰ΩïÂõûÁõÆ„Åã„ÇíÊòéÁ§∫Ôºâ
  document.getElementById("sentence").innerHTML = `
    <div style="font-size:18px; color:gray;">
      This sentence has been shown <b>${shownCounts[sentence]}</b> time${shownCounts[sentence] > 1 ? 's' : ''}.
    </div>
    <div style="margin-top:10px;">${sentence}</div>
  `;

  document.getElementById("okBtn").disabled = false;
}

function confirmSentence() {
  document.getElementById("sentence").innerText = "Press 'Show Random' again";
  document.getElementById("okBtn").disabled = true;
}

function resetData() {
  if (confirm("Reset all data?")) {
    localStorage.removeItem("shownCounts");
    shownCounts = {};
    totalShown = 0;
    document.getElementById("count").innerText = 0;
    document.getElementById("sentence").innerText = "Press 'Show Random' to start";
  }
}

document.getElementById("showBtn").onclick = showRandom;
document.getElementById("okBtn").onclick = confirmSentence;
document.getElementById("resetBtn").onclick = resetData;
</script>

</body>
</html>
