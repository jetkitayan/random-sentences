<script>
let allSentences = [
  "Keep your chin up.",
  "Practice makes perfect.",
  "Every cloud has a silver lining.",
  "Better late than never.",
  "Actions speak louder than words."
];

// localStorageã‹ã‚‰èª­ã¿è¾¼ã¿
let shownCount = parseInt(localStorage.getItem("shownCount")) || 0;
let remaining = JSON.parse(localStorage.getItem("remaining")) || [...allSentences];

document.getElementById("count").innerText = shownCount;

function showRandom() {
  if (remaining.length === 0) {
    document.getElementById("sentence").innerText = "All sentences shown!";
    document.getElementById("showBtn").disabled = true;
    document.getElementById("okBtn").disabled = true;
    return;
  }

  // ğŸ‘‡ è‹±æ–‡è¡¨ç¤ºæ™‚ã«ã‚«ã‚¦ãƒ³ãƒˆã‚’1å¢—ã‚„ã™
  shownCount++;
  localStorage.setItem("shownCount", shownCount);

  const idx = Math.floor(Math.random() * remaining.length);
  const sentence = remaining[idx];

  // ğŸ‘‡ ç•ªå·ã¨è‹±æ–‡ã‚’åŒæ™‚ã«è¡¨ç¤º
  document.getElementById("sentence").innerHTML = `
    <div style="font-size:18px; color:gray;">Sentence #${shownCount}</div>
    <div style="margin-top:10px;">${sentence}</div>
  `;

  document.getElementById("count").innerText = shownCount;
  document.getElementById("okBtn").disabled = false;

  // ğŸ‘‡ è¡¨ç¤ºæ¸ˆã¿è‹±æ–‡ã‚’å‰Šé™¤ã—ã¦é‡è¤‡ã‚’é˜²ã
  remaining = remaining.filter(s => s !== sentence);
  localStorage.setItem("remaining", JSON.stringify(remaining));
}

function confirmSentence() {
  // OKãƒœã‚¿ãƒ³ã¯å˜ã«ã€Œæ¬¡ã®è‹±æ–‡ã‚’è¦‹ã›ã‚‹æº–å‚™ã€
  document.getElementById("sentence").innerText = "Press 'Show Random' again";
  document.getElementById("okBtn").disabled = true;
}

function resetData() {
  if (confirm("Reset all data?")) {
    localStorage.removeItem("shownCount");
    localStorage.removeItem("remaining");
    shownCount = 0;
    remaining = [...allSentences];
    document.getElementById("count").innerText = shownCount;
    document.getElementById("sentence").innerText = "Press 'Show Random' to start";
    document.getElementById("showBtn").disabled = false;
  }
}

document.getElementById("showBtn").onclick = showRandom;
document.getElementById("okBtn").onclick = confirmSentence;
document.getElementById("resetBtn").onclick = resetData;
</script>
