<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Random English Sentences</title>
<style>
body {
  font-family: sans-serif;
  text-align: center;
  margin-top: 80px;
}

#sentence {
  font-size: 36px;     /* ğŸ‘ˆ è‹±æ–‡ã‚’å¤§ãã */
  margin: 40px 20px;
  line-height: 1.5;
}

button {
  padding: 15px 30px;  /* ğŸ‘ˆ ãƒœã‚¿ãƒ³ã‚‚å°‘ã—å¤§ãã */
  font-size: 22px;
  margin: 10px;
  border-radius: 10px;
}

#count {
  font-size: 24px;     /* ã‚«ã‚¦ãƒ³ã‚¿ã‚‚è¦‹ã‚„ã™ã */
  font-weight: bold;
}
</style>
</head>
<body>

<h1>Random English Sentences</h1>
<div id="sentence">Press "Show Random" to start</div>
<button id="showBtn">Show Random</button>
<button id="okBtn" disabled>OK</button>
<button id="resetBtn">Reset</button>
<p>Displayed Count: <span id="count">0</span></p>

<script>
let allSentences = [
  "Keep your chin up.",
  "Practice makes perfect.",
  "Every cloud has a silver lining.",
  "Better late than never.",
  "Actions speak louder than words."
];

// localStorageã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿
let shownCount = parseInt(localStorage.getItem("shownCount")) || 0;
let remaining = JSON.parse(localStorage.getItem("remaining")) || [...allSentences];

document.getElementById("count").innerText = shownCount;

function showRandom() {
  if (remaining.length === 0) {
    document.getElementById("sentence").innerText = "All sentences shown!";
    document.getElementById("showBtn").disabled = true;
    document.getElementById("okBtn").disabled = true;
    return;
  }
  const idx = Math.floor(Math.random() * remaining.length);
  const sentence = remaining[idx];
  
  // ğŸ‘‡ã€Œæ¬¡ã¯ä½•å›ç›®ã®è¡¨ç¤ºã‹ã€ã‚’è¨ˆç®—ã—ã¦è¡¨ç¤º
  const nextNumber = shownCount + 1;
  document.getElementById("sentence").innerHTML = 
    `<div style="font-size:18px; color:gray;">Sentence #${nextNumber}</div>` +
    `<div style="margin-top:10px;">${sentence}</div>`;

  document.getElementById("okBtn").disabled = false;
}

function confirmSentence() {
  const textOnly = document.getElementById("sentence").innerText
                     .replace(/Sentence #\d+\s*/, ""); // è‹±æ–‡éƒ¨åˆ†ã®ã¿æŠ½å‡º
  remaining = remaining.filter(s => s !== textOnly);
  shownCount++;

  // localStorageã«ä¿å­˜
  localStorage.setItem("shownCount", shownCount);
  localStorage.setItem("remaining", JSON.stringify(remaining));

  document.getElementById("count").innerText = shownCount;
  document.getElementById("okBtn").disabled = true;
  document.getElementById("sentence").innerText = "Press 'Show Random' again";
}

function resetData() {
  if (confirm("Reset all data?")) {
    localStorage.removeItem("shownCount");
    localStorage.removeItem("remaining");
    shownCount = 0;
    remaining = [...allSentences];
    document.getElementById("count").innerText = shownCount;
    document.getElementById("sentence").innerText = "Press 'Show Random' to start";
    document.getElementById("showBtn").disabled = false;
  }
}

document.getElementById("showBtn").onclick = showRandom;
document.getElementById("okBtn").onclick = confirmSentence;
document.getElementById("resetBtn").onclick = resetData;
</script>


</body>
</html>
